{"ast":null,"code":"import { Router } from \"@angular/router\";\nimport { LoginService } from \"app/core/services/login/login.service\";\nimport { DialogGeneralMessageComponent } from \"app/pages/dialog-general/dialog-general-message/dialog-general-message.component\";\nimport { MatLegacyDialog as MatDialog } from \"@angular/material/legacy-dialog\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"app/core/services/login/login.service\";\nimport * as i3 from \"@angular/material/legacy-dialog\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction LoginComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"strong\");\n    i0.ɵɵtext(2, \" El correo o la contrase\\u00F1a son incorrectas. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_1_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.close());\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoginComponent_i_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 30);\n  }\n}\nfunction LoginComponent_i_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"i\", 31);\n    i0.ɵɵlistener(\"click\", function LoginComponent_i_26_Template_i_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.viewPassword(false));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_i_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"i\", 32);\n    i0.ɵɵlistener(\"click\", function LoginComponent_i_27_Template_i_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.viewPassword(true));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nexport class LoginComponent {\n  constructor(router, service, _dialog) {\n    this.router = router;\n    this.service = service;\n    this._dialog = _dialog;\n    this.email = \"\";\n    this.password = \"\";\n    this.validar = false;\n    this.disabled = false;\n    this.errorLogin = false;\n    this.eyed = false;\n    this.typeInput = 'password';\n  }\n  ngOnInit() {}\n  forgotPassword() {\n    console.log(\"forgot password\");\n    this.router.navigateByUrl(\"recuperar-contrasena\");\n  }\n  login(correo, contrasena) {\n    this.disabled = true;\n    const loginObj = `?email=${correo}&password=${contrasena}`;\n    this.service.login(loginObj).subscribe(resp => {\n      if (resp.success) {\n        this.dataProfile = resp.result;\n        // this.load.presentLoading(\"Iniciando sesion..\");\n        console.log(\"data profile\", this.dataProfile);\n        this.disabled = false;\n        localStorage.setItem(\"userData\", JSON.stringify(this.dataProfile));\n        this.entrar(this.dataProfile.roleId);\n        // this.router.navigateByUrl(\"bienvenido\");\n      } else {\n        console.log(\"data error\", resp);\n        this.disabled = false;\n        const dialog2 = this._dialog.open(DialogGeneralMessageComponent, {\n          data: {\n            header: \"Error\",\n            body: resp.message\n          },\n          width: \"350px\"\n        });\n        // this.generalMessage(resp.message);\n      }\n    }, error => {\n      console.log(error);\n    });\n  }\n  entrar(idRole) {\n    if (idRole === 1) {\n      this.errorLogin = false;\n      this.router.navigateByUrl(\"bienvenido/1\");\n    } else if (idRole === 2) {\n      this.errorLogin = false;\n      this.router.navigateByUrl(\"bienvenido/2\");\n    } else {\n      this.errorLogin = true;\n    }\n  }\n  close() {\n    this.errorLogin = false;\n  }\n  signUp() {\n    this.router.navigateByUrl(\"create-user\");\n  }\n  viewPassword(type) {\n    if (type === true) {\n      this.typeInput = 'text';\n      this.eyed = true;\n    } else {\n      this.typeInput = 'password';\n      this.eyed = false;\n    }\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.LoginService), i0.ɵɵdirectiveInject(i3.MatLegacyDialog));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 44,\n    vars: 8,\n    consts: [[1, \"main\"], [\"class\", \"alert alert-danger alert-dismissible fade show mb-1\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"justify\"], [1, \"container-logo\"], [\"src\", \"./assets/logo-login.png\", \"alt\", \"Rebel wings\"], [1, \"mt-4\", \"mb-3\"], [1, \"title-admon\"], [1, \"portalBNEAs\"], [1, \"mb-2\"], [1, \"access\"], [1, \"my-3\"], [1, \"input-group\", \"mb-3\"], [\"type\", \"email\", \"autocomplete\", \"off\", \"placeholder\", \"Correo electr\\u00F3nico\", \"aria-label\", \"Correo electr\\u00F3nico\", \"aria-describedby\", \"basic-addon2\", 1, \"form-control\", \"input-style\", \"text-center\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group-append\"], [1, \"input-group-text\", 2, \"background-color\", \"white\"], [1, \"nc-icon\", \"nc-email-85\", 2, \"color\", \"#000000\", \"background-color\", \"white\"], [\"autocomplete\", \"off\", \"placeholder\", \"Contrase\\u00F1a\", \"aria-describedby\", \"basic-addon2\", 1, \"form-control\", \"input-style\", \"text-center\", 3, \"type\", \"ngModel\", \"ngModelChange\"], [\"class\", \"bi bi-key icon-login\", 4, \"ngIf\"], [\"class\", \"bi bi-eye icon-login\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"bi bi-eye-slash icon-login\", 3, \"click\", 4, \"ngIf\"], [1, \"my-2\"], [1, \"forgot-password\", 3, \"click\"], [1, \"text-info\"], [1, \"my-1\", \"text-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", \"btn-entrar\", 3, \"disabled\", \"click\"], [1, \"text-warning\", \"text-btn\"], [1, \"tienes-cuenta\"], [1, \"registrate\", 2, \"cursor\", \"pointer\", 3, \"click\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"alert-dismissible\", \"fade\", \"show\", \"mb-1\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", \"text-white\", 3, \"click\"], [1, \"bi\", \"bi-key\", \"icon-login\"], [1, \"bi\", \"bi-eye\", \"icon-login\", 3, \"click\"], [1, \"bi\", \"bi-eye-slash\", \"icon-login\", 3, \"click\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, LoginComponent_div_1_Template, 4, 0, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 5)(6, \"span\", 6);\n        i0.ɵɵtext(7, \"Bienvenid@ a\");\n        i0.ɵɵelementStart(8, \"span\", 7);\n        i0.ɵɵtext(9, \" tu portal BNEA.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"br\");\n        i0.ɵɵtext(11, \" Aqu\\u00ED podr\\u00E1s obtener los documentos requeridos en el banco de manera r\\u00E1pida y autom\\u00E1tica.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 8)(13, \"span\", 9);\n        i0.ɵɵtext(14, \"Ingresa\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 10)(16, \"div\", 11)(17, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_17_listener($event) {\n          return ctx.email = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 13)(19, \"span\", 14);\n        i0.ɵɵelement(20, \"i\", 15);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(21, \"div\", 11)(22, \"input\", 16);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_22_listener($event) {\n          return ctx.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 13)(24, \"span\", 14);\n        i0.ɵɵtemplate(25, LoginComponent_i_25_Template, 1, 0, \"i\", 17);\n        i0.ɵɵtemplate(26, LoginComponent_i_26_Template, 1, 0, \"i\", 18);\n        i0.ɵɵtemplate(27, LoginComponent_i_27_Template, 1, 0, \"i\", 19);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(28, \"div\", 20)(29, \"div\", 21);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_div_click_29_listener() {\n          return ctx.forgotPassword();\n        });\n        i0.ɵɵelementStart(30, \"span\", 22);\n        i0.ɵɵtext(31, \"Recuperar contrase\\u00F1a\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(32, \"div\", 23)(33, \"button\", 24);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_33_listener() {\n          return ctx.login(ctx.email, ctx.password);\n        });\n        i0.ɵɵelementStart(34, \"span\", 25);\n        i0.ɵɵtext(35, \" Entrar \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(36, \"div\", 20)(37, \"div\", 26)(38, \"span\");\n        i0.ɵɵtext(39, \"\\u00BFA\\u00FAn no tienes una cuenta?\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(40, \"div\", 20)(41, \"div\", 27);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_div_click_41_listener() {\n          return ctx.signUp();\n        });\n        i0.ɵɵelementStart(42, \"span\", 22);\n        i0.ɵɵtext(43, \"Reg\\u00EDstrate\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorLogin == true);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngModel\", ctx.email);\n        i0.ɵɵadvance(5);\n        i0.ɵɵpropertyInterpolate(\"type\", ctx.typeInput);\n        i0.ɵɵproperty(\"ngModel\", ctx.password);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.password === \"\" || ctx.password === undefined);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.password !== \"\" && ctx.password !== undefined && ctx.eyed === true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.password !== \"\" && ctx.password !== undefined && ctx.eyed === false);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"disabled\", ctx.email == \"\" || ctx.password == \"\" || ctx.disabled == true);\n      }\n    },\n    dependencies: [i4.NgIf, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel],\n    styles: [\".main[_ngcontent-%COMP%]{background-image:url(background-blue.png);width:100%;height:100vh;background-position:center;background-size:cover;position:relative}.justify[_ngcontent-%COMP%]{width:20.93rem;padding:32px 26px 33px 27px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:6.8px;box-shadow:0 2px 14px #0c6eb61a;background-color:#fafafa}.container-logo[_ngcontent-%COMP%]{text-align:center}.registrate[_ngcontent-%COMP%]{font-size:.85rem;font-weight:700;text-align:center}.title-admon[_ngcontent-%COMP%]{font-size:.79rem;font-family:Roboto;font-weight:400;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;color:#00000082}.portalBNEAs[_ngcontent-%COMP%]{font-weight:500}.tienes-cuenta[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;font-family:Roboto;text-align:center;color:#00000082}.forgot-password[_ngcontent-%COMP%]{text-align:end;font-weight:800;font-size:.875rem;font-family:roboto}.puntero[_ngcontent-%COMP%]{cursor:pointer}.access[_ngcontent-%COMP%]{font-size:1.069rem;color:#00000082;font-family:Roboto;font-weight:500}.input-style[_ngcontent-%COMP%]{font-family:Roboto;font-size:.875rem;font-weight:300;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center;color:#1d1d1bcc;background-color:#fff}.input-group-append[_ngcontent-%COMP%]{background-color:#fff}.input-group[_ngcontent-%COMP%]{background-color:#fff;border-radius:6.8px;box-shadow:0 3px 9px #0c6eb61a}.btn-entrar[_ngcontent-%COMP%]{text-transform:capitalize;font-family:Roboto;font-size:.875rem}.text-btn[_ngcontent-%COMP%]{margin-right:1.8rem!important;margin-left:1.8rem!important}.icon-login[_ngcontent-%COMP%]{color:#000;background-color:#fff}\"]\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}